<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<style>
*{
	margin:0;
	padding: 0;
}
ul,ol{
	list-style:none;
}
#menu-box{
	width: 200px;
	border: 1px solid #000;
}
#menu-box h3{
	background: #000;
	color: #fff;
}
.main-menu ul{
	display: none;
}




</style>
<body>

<ul id="menu-box">
	<li class="main-menu">
		<h3>管理区</h3>
		<ul class="ul1">
			<li>111</li>
			<li>222</li>
			<li>333</li>
		</ul>
	</li>
	<li class="main-menu">
		<h3>交流区</h3>
		<ul class="ul1">
			<li>111</li>
			<li>222</li>
			<li>333</li>
		</ul>
	</li>
</ul>
</li>

	<script>

	function getClass(cls,context){
	var result = [];
	context = context || document;
	var arr = context.getElementsByTagName("*");
	for(var i=0;i<arr.length;i++){
		if(arr[i].className.indexOf(cls) != -1){
			result.push(arr[i]); 
		}
	}
	return result;
}
	var oMenuBox = document.getElementById("menu-box");
/*	var aLi = getClass("main-menu",oMenuBox)
	for(i=0;i<aLi.length;i++){
		aLi[i].onclick = function(){
			var oUl = this.getElementsByTagName("ul")[0];
			if(oUl.style.display=="none"||oUl.style.display==""){
				oUl.style.display='block';//.style只能取到内联样式
			}else{
				oUl.style.display='none';
			}
		}
	}
*/
	

	var aUl = getClass("ul1",oMenuBox)
	var aH3 = document.getElementsByTagName('h3');
	for(i=0;i<aH3.length;i++){
		aH3[i].index = i;//索引对应关系设置一个属性记录其索引
		aH3[i].onclick = function(){
			// var idx = this.index;
			var oUl=aUl[this.index];
			if(oUl.style.display == "none"||oUl.style.display == ""){
				oUl.style.display="block";
			}else{
				oUl.style.display="none";
			}
		
		}
			
	}
	
	

	</script>
</body>
</html>